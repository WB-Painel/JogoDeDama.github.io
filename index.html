<!DOCTYPE html>
<html>
  <meta charset="utf-8"/>
  <meta name="viewport" 
	content="width=device-width, initial-scale=0.3, maximum-scale=0.3, user-scalable=0">
  
  <head>
	<script
      type="text/javascript"
      src="https://npmcdn.com/parse/dist/parse.min.js"
    ></script>
    <link href="css/styles.css" rel="stylesheet">
  </head>
  <body>
	
	<style>
	  
	  .VIEW{
	  position:fixed;
	  
	  left:0;
	  top:0;
	  right:0;
	  bottom:0;
	  
	  width:100%;
	  height:100%;
	  
	  display:flex;
	  flex-direction:row;
	  justify-content:center;
	  align-items:center;
	  }
	  
	  .VIEW_TABULEIRO{
	  
	  width:100%;
	  height:100%;
	  
	  display:flex;
	  
	  }
	  
	  .LISTA_1{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	   .LISTA_2{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	   .LISTA_3{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	   .LISTA_4{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	  .LISTA_5{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	   .LISTA_6{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	   .LISTA_7{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	   .LISTA_8{
	  width:12%;
	  height:50%;
	  
	  background-color:#0000AAAA;
	  }
	  
	  
	  .LIST_ITEM{
	  width:100%;
	  height:10%;
	  background-color:black;
	  }
	  
	  
	  .LIST_ITEM{
	  width:100%;
	  height:10%;
	  
	  }
	  
	  
	  
	  .PECA_DO_PLAYER_1{
	  width:100%;
	  height:100%;
	  background-image:url("image/vermelho.png");
	  background-size:80% 80%;
	  background-repeat:no-repeat;
	  background-position:center;
	  font-size:20px;
	  }
	  
	  .PECA_DO_PLAYER_2{
	  width:100%;
	  height:100%;
	  background-image:url("image/rosa.png");
	  background-size:80% 80%;
	  background-repeat:no-repeat;
	  background-position:center;
	  font-size:20px;
	  }
	  
	  </style>
	  
	<h1 id="test"></h1>
	  
	  <div class="VIEW">
		
		<div class="VIEW_TABULEIRO">
		
	  <div class="LISTA_1">
		
	  </div>
	  
		<div class="LISTA_2">
		  
		</div>
		
		<div class="LISTA_3">
		 
		</div>
		
		<div class="LISTA_4">
		 
		</div>
		
		<div class="LISTA_5">
		 
		</div>
		
		<div class="LISTA_6">
		 
		</div>
		
		<div class="LISTA_7">
		 
		</div>
		
		<div class="LISTA_8">
		
		</div>
	  
		</div>
		
	  </div>
	  
  </body>
	  
	  <script>
		
		var SELECTED = false;
		
		var VEZ_DO_PLAYER_1 = false;
		
	var LIST_1_ITEM_COLOR = "#FFFFFFFF";
	var LIST_2_ITEM_COLOR = "#000000FF";
	var LIST_3_ITEM_COLOR = "#FFFFFFFF";
	var LIST_4_ITEM_COLOR = "#000000FF";
	var LIST_5_ITEM_COLOR = "#FFFFFFFF";
	var LIST_6_ITEM_COLOR = "#000000FF";
	var LIST_7_ITEM_COLOR = "#FFFFFFFF";
	var LIST_8_ITEM_COLOR = "#000000FF";
	
	var LIST_1_ITEM_COUNT = 1;
	var LIST_2_ITEM_COUNT = 1;
	var LIST_3_ITEM_COUNT = 1;
	var LIST_4_ITEM_COUNT = 1;
	var LIST_5_ITEM_COUNT = 1;
	var LIST_6_ITEM_COUNT = 1;
	var LIST_7_ITEM_COUNT = 1;
	var LIST_8_ITEM_COUNT = 1;
	
	var TABULEIRO_DE_DAMA;
	
	
	var isPlayerOne = false;
	
		</script>
		
  <script>
	
	var Body = document.getElementsByTagName("body")[0];
	
	var TABULEIRO_WIDTH = Body.clientWidth+"px";
	
	
	var TABULEIRO = document.getElementsByClassName("VIEW_TABULEIRO")[0];
	//TABULEIRO.style.backgroundColor="red";
	TABULEIRO.style.width=TABULEIRO_WIDTH;
	TABULEIRO.style.height=TABULEIRO_WIDTH;
	TABULEIRO_DE_DAMA=TABULEIRO;
	//TABULEIRO.style.transform = "rotate(180deg)";
	
	
	var LISTA_WIDTH = TABULEIRO.clientWidth/8+"px";
	var LISTA_HEIGHT = TABULEIRO.clientHeight/1+"px";
	
	
	var LISTA_1 = document.getElementsByClassName("LISTA_1")[0];
	LISTA_1.style.width=LISTA_WIDTH;
	LISTA_1.style.height=LISTA_HEIGHT;
	//LISTA_1.style.backgroundColor="red";
	
	var LISTA_2 = document.getElementsByClassName("LISTA_2")[0];
	LISTA_2.style.width=LISTA_WIDTH;
	LISTA_2.style.height=LISTA_HEIGHT;
	//LISTA_2.style.backgroundColor="blue";
	
	var LISTA_3 = document.getElementsByClassName("LISTA_3")[0];
	LISTA_3.style.width=LISTA_WIDTH;
	LISTA_3.style.height=LISTA_HEIGHT;
	//LISTA_3.style.backgroundColor="red";
	
	var LISTA_4 = document.getElementsByClassName("LISTA_4")[0];
	LISTA_4.style.width=LISTA_WIDTH;
	LISTA_4.style.height=LISTA_HEIGHT;
	//LISTA_4.style.backgroundColor="magenta";
	
	var LISTA_5 = document.getElementsByClassName("LISTA_5")[0];
	LISTA_5.style.width=LISTA_WIDTH;
	LISTA_5.style.height=LISTA_HEIGHT;
	//LISTA_5.style.backgroundColor="orange";
	
	var LISTA_6 = document.getElementsByClassName("LISTA_6")[0];
	LISTA_6.style.width=LISTA_WIDTH;
	LISTA_6.style.height=LISTA_HEIGHT;
	//LISTA_6.style.backgroundColor="gold";
	
	var LISTA_7 = document.getElementsByClassName("LISTA_7")[0];
	LISTA_7.style.width=LISTA_WIDTH;
	LISTA_7.style.height=LISTA_HEIGHT;
	//LISTA_7.style.backgroundColor="grey";
	
	var LISTA_8 = document.getElementsByClassName("LISTA_8")[0];
	LISTA_8.style.width=LISTA_WIDTH;
	LISTA_8.style.height=LISTA_HEIGHT;
	//LISTA_8.style.backgroundColor="black";
	
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_1_ITEM_COUNT+++"_LISTA_1";
	CT(LISTA_1,1,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_2_ITEM_COUNT+++"_LISTA_2";
	CT(LISTA_2,2,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_3_ITEM_COUNT+++"_LISTA_3";
	CT(LISTA_3,3,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_4_ITEM_COUNT+++"_LISTA_4";
	CT(LISTA_4,4,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_5_ITEM_COUNT+++"_LISTA_5";
	CT(LISTA_5,5,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_6_ITEM_COUNT+++"_LISTA_6";
	CT(LISTA_6,6,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_7_ITEM_COUNT+++"_LISTA_7";
	CT(LISTA_7,7,ID);
	}
	
	for(var i = 0; i < 8; i++){
	var ID = "ITEM_"+LIST_8_ITEM_COUNT+++"_LISTA_8";
	CT(LISTA_8,8,ID);
	}
	
	
	function CT(LISTA,QUAL_LISTA,ITEM_ID){
	
	if(QUAL_LISTA==1){
	ADD_ITEM(LISTA,LIST_1_ITEM_COLOR,ITEM_ID);
	if(LIST_1_ITEM_COLOR=="#FFFFFFFF"){
	LIST_1_ITEM_COLOR="#000000FF";
	}else{
	LIST_1_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==2){
	ADD_ITEM(LISTA,LIST_2_ITEM_COLOR,ITEM_ID);
	if(LIST_2_ITEM_COLOR=="#FFFFFFFF"){
	LIST_2_ITEM_COLOR="#000000FF";
	}else{
	LIST_2_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==3){
	ADD_ITEM(LISTA,LIST_3_ITEM_COLOR,ITEM_ID);
	if(LIST_3_ITEM_COLOR=="#FFFFFFFF"){
	LIST_3_ITEM_COLOR="#000000FF";
	}else{
	LIST_3_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==4){
	ADD_ITEM(LISTA,LIST_4_ITEM_COLOR,ITEM_ID);
	if(LIST_4_ITEM_COLOR=="#FFFFFFFF"){
	LIST_4_ITEM_COLOR="#000000FF";
	}else{
	LIST_4_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==5){
	ADD_ITEM(LISTA,LIST_5_ITEM_COLOR,ITEM_ID);
	if(LIST_5_ITEM_COLOR=="#FFFFFFFF"){
	LIST_5_ITEM_COLOR="#000000FF";
	}else{
	LIST_5_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==6){
	ADD_ITEM(LISTA,LIST_6_ITEM_COLOR,ITEM_ID);
	if(LIST_6_ITEM_COLOR=="#FFFFFFFF"){
	LIST_6_ITEM_COLOR="#000000FF";
	}else{
	LIST_6_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==7){
	ADD_ITEM(LISTA,LIST_7_ITEM_COLOR,ITEM_ID);
	if(LIST_7_ITEM_COLOR=="#FFFFFFFF"){
	LIST_7_ITEM_COLOR="#000000FF";
	}else{
	LIST_7_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	if(QUAL_LISTA==8){
	ADD_ITEM(LISTA,LIST_8_ITEM_COLOR,ITEM_ID);
	if(LIST_8_ITEM_COLOR=="#FFFFFFFF"){
	LIST_8_ITEM_COLOR="#000000FF";
	}else{
	LIST_8_ITEM_COLOR="#FFFFFFFF";
	}
	}
	
	}
	
	function ADD_ITEM(LISTA,ITEM_COLOR,ITEM_ID){
	
	var ITEM = document.createElement("div");
	
	ITEM.id = ITEM_ID;
	
	ITEM.style.width=LISTA.clientWidth+"px";
	
	ITEM.style.height=LISTA.clientWidth+"px";
	
	ITEM.style.backgroundColor = ITEM_COLOR;
	
	//ITEM.innerText = ITEM_ID;
	
	ITEM.style.fontSize = "10px";
	
	ITEM.style.color="red";
	
	LISTA.appendChild(ITEM);
	
	setTimeout(function(){
	ParseClick(ITEM);
	},100);
	
	}
	  
	
	
	
	setTimeout(function(){
	ADD_PECA_DO_PLAYER_1(LISTA_1);
	ADD_PECA_DO_PLAYER_1(LISTA_2);
	ADD_PECA_DO_PLAYER_1(LISTA_3);
	ADD_PECA_DO_PLAYER_1(LISTA_4);
	ADD_PECA_DO_PLAYER_1(LISTA_5);
	ADD_PECA_DO_PLAYER_1(LISTA_6);
	ADD_PECA_DO_PLAYER_1(LISTA_7);
	ADD_PECA_DO_PLAYER_1(LISTA_8);
	
	ADD_PECA_DO_PLAYER_2(LISTA_1);
	ADD_PECA_DO_PLAYER_2(LISTA_2);
	ADD_PECA_DO_PLAYER_2(LISTA_3);
	ADD_PECA_DO_PLAYER_2(LISTA_4);
	ADD_PECA_DO_PLAYER_2(LISTA_5);
	ADD_PECA_DO_PLAYER_2(LISTA_6);
	ADD_PECA_DO_PLAYER_2(LISTA_7);
	ADD_PECA_DO_PLAYER_2(LISTA_8);
	},10);
	
	</script>
	  
	  
	  
	 
	  <script>
		
		function ADD_PECA_DO_PLAYER_1(LISTA){
		
		for(var i = 0; i <= 1; i++){
		
		var PECA_DO_PLAYER_1 = document.createElement("div");
		
		PECA_DO_PLAYER_1.setAttribute("class","PECA_DO_PLAYER_1");
		
		PECA_DO_PLAYER_1.innerText = "P_1";
		
		var VIEW_PECA = LISTA.children[i];
		
		VIEW_PECA.appendChild(PECA_DO_PLAYER_1);
		
		}
		
		}
		
		</script>
		
		
		
<script>
		
		function ADD_PECA_DO_PLAYER_2(LISTA){
		
		for(var i = 6; i <= 7; i++){
		
		var PECA_DO_PLAYER_2 = document.createElement("div");
		
		PECA_DO_PLAYER_2.setAttribute("class","PECA_DO_PLAYER_2");
		
		PECA_DO_PLAYER_2.innerText = "P_2";
		
		var VIEW_PECA = LISTA.children[i];
		
		VIEW_PECA.appendChild(PECA_DO_PLAYER_2);
		
		}
		
		}
		
</script>




<script>
  var H = document.getElementById("test");
  
  Update();
  function Update(){
  setTimeout(function(){
  clearTimeout();
  Update2();
  },1000);
  }
  
  function Update2(){
  setTimeout(function(){
  clearTimeout();
  RefreshGame();
  },1000);
  }
  
  function RefreshGame(){
	
  server = new Parse.Query("Game");
	
  server.equalTo("SERVER","SERVER_1");
	
  server.first().then(function(SERVER){
	
  if(SERVER){
	
  GAME=SERVER;
  
  UpdateDama();
  
  }
	
  });
	
  }
	
	function UpdateDama(){
	
	var b_i_p = GAME.get("before_item_position");
	var b_l_p = GAME.get("before_list_position");
	var a_i_p = GAME.get("after_item_position");
	var a_l_p = GAME.get("after_list_position");
	
	
	if(isPlayerOne){
	
	if(GAME.get("vez_do_player")==NAME){
	
	H.innerText="Sou o Player 1 e é minha vez";
	
	VERIFY_ITEM_PLAYER_2(b_i_p,a_i_p , b_l_p,a_l_p);
	
	}else{
	
	H.innerText="Vez do player 2";
	
	Update2();
	
	}
	
	}else{
	
	if(GAME.get("vez_do_player")==NAME){
	
	H.innerText="Sou o player 2 e é minha vez";
	
	VERIFY_ITEM(b_i_p,a_i_p , b_l_p,a_l_p);
	
	}else{
	
	H.innerText="Vez do player 1";
	
	Update2();
	
	}
	
	}
	
	//Update2();
	
	}
	
  </script>



<script>
  
  var BEFORE_LIST_ITEM = 0;
  var BEFORE_LIST = 0;
  
  var AFTER_LIST_ITEM = 0;
  var AFTER_LIST = 0;
  
  var CLICKED=false;
  
  
  function ParseClick(VIEW){
  
  var ITEM_NAME = VIEW.id;
  ITEM_NAME=ITEM_NAME.substring(0,ITEM_NAME.indexOf("_LISTA_"));
  
  var LIST_NAME = VIEW.id;
  LIST_NAME = LIST_NAME.substring(ITEM_NAME.length+1,LIST_NAME.length);
  
  
  ITEM_NAME=ITEM_NAME.replace("ITEM_","");
  
  LIST_NAME=LIST_NAME.replace("LISTA_","");
  
  
  VIEW.onclick = function(){
  
 // alert(ITEM_NAME);
 // alert(LIST_NAME);
  
  
  
  if(BEFORE_LIST_ITEM==0&&BEFORE_LIST==0){
  if(VIEW.children.length>0){
  BEFORE_LIST_ITEM=ITEM_NAME;
  BEFORE_LIST=LIST_NAME;
  }
  }else{
  CLICKED=true;
    /*
  if(VEZ_DO_PLAYER_1==false){
  VERIFY_ITEM_PLAYER_2(BEFORE_LIST_ITEM,ITEM_NAME , BEFORE_LIST,LIST_NAME);
  }else{
  VERIFY_ITEM(BEFORE_LIST_ITEM,ITEM_NAME , BEFORE_LIST,LIST_NAME);
  }*/
  UpdateVezDoPlayer();
  
  
  setTimeout(function(){
  var VEZ = ObterVezDoPlayer();
  //alert("V:"+VEZ);
  
  if(isPlayerOne){
  
  if(VEZ==NAME){
 // alert("EU");
  VERIFY_ITEM(BEFORE_LIST_ITEM,ITEM_NAME , BEFORE_LIST,LIST_NAME);
  }
  
  }else{
  
  if(VEZ==NAME){
  VERIFY_ITEM_PLAYER_2(BEFORE_LIST_ITEM,ITEM_NAME , BEFORE_LIST,LIST_NAME);
  }
  
  }
  
  //
  BEFORE_LIST_ITEM = 0;
  BEFORE_LIST = 0;
  //
  
  },100);
  
  }
  
  
  
  };
  
  }
  
  
  
  
  function VERIFY_ITEM(B_L_I,A_L_I , B_L,A_L){
 
  /*
  alert(
  "Moveu o item da posição:"+
  B_L_I+
  " da lista:"+
  B_L+
  " para a posição:"+
  A_L_I+
  " da lista:"+
  A_L);*/
  
  B_L_I = parseInt(B_L_I);
  A_L_I = parseInt(A_L_I);
  
  B_L = parseInt(B_L);
  A_L = parseInt(A_L);
  
  
  if(B_L_I+1==A_L_I){
  
  if(B_L+1==A_L || B_L-1==A_L){
  MOVE_PECA(B_L_I,A_L_I, B_L,A_L);
  }else{
  BEFORE_LIST_ITEM = 0;
  BEFORE_LIST = 0;
  }
  
  }else{
  
  if(B_L_I+2==A_L_I){
  
  if(B_L+2==A_L){
  COME_PECA(B_L_I,A_L_I, B_L,A_L,"MAIS");
 // alert("P1 Comer mais");
  }
  
  if(B_L-2==A_L){
  COME_PECA(B_L_I,A_L_I, B_L,A_L,"MENOS");
 // alert("P1 Comer menos");
  }
  
  }
  
  }
  
  
  }
  
  
  
  
  
  
  function VERIFY_ITEM_PLAYER_2(B_L_I,A_L_I , B_L,A_L){
 /* alert(
  "Moveu o item da posição:"+
  B_L_I+
  " da lista:"+
  B_L+
  " para a posição:"+
  A_L_I+
  " da lista:"+
  A_L);*/
 // alert("P2");
  
  B_L_I = parseInt(B_L_I);
  A_L_I = parseInt(A_L_I);
  
  B_L = parseInt(B_L);
  A_L = parseInt(A_L);
  

  if(B_L_I-1==A_L_I){
  
  if(B_L+1==A_L || B_L-1==A_L){
  MOVE_PECA(B_L_I,A_L_I, B_L,A_L);
//  alert("P2");
  }else{
  BEFORE_LIST_ITEM = 0;
  BEFORE_LIST = 0;
  }
  
  }else{
  
  if(B_L_I-2==A_L_I){
  
  if(B_L+2==A_L){
  COME_PECA(B_L_I,A_L_I, B_L,A_L,"PLAYER_2_MAIS");
  //alert("P2 Comer mais");
  }
  
  if(B_L-2==A_L){
  COME_PECA(B_L_I,A_L_I, B_L,A_L,"PLAYER_2_MENOS");
 // alert("P2 Comer menos");
  }
  
  }
  
  }
  
  
  }
  
  
  
  
  function MOVE_PECA(B_L_I,A_L_I, B_L,A_L){
  
  var VIEW_ITEM_1 = document.getElementById("ITEM_"+B_L_I+"_LISTA_"+B_L);
  
  var ITEM = VIEW_ITEM_1.children[0];
  
 // VIEW_ITEM_1.style.backgroundColor="blue";
  //VIEW_ITEM.removeChild(ITEM);
  
  var VIEW_ITEM_2 = document.getElementById("ITEM_"+A_L_I+"_LISTA_"+A_L);
 
  //alert(VIEW_ITEM_2.children.length);
  
 // VIEW_ITEM_2.style.backgroundColor="green";
  
  if(VIEW_ITEM_2.children.length==0){
  
  VIEW_ITEM_1.removeChild(ITEM);
  
  VIEW_ITEM_2.appendChild(ITEM);
  
  if(CLICKED==true){
 // alert("Movido por min");
  GetServer(B_L_I, B_L, A_L_I, A_L, true);
  CLICKED=false;
  }else{
 // alert("Não movido por min");
  GetServer(B_L_I, B_L, A_L_I, A_L, false);
  }
  
  if(VEZ_DO_PLAYER_1==false){
  VEZ_DO_PLAYER_1=true;
  }else{
  VEZ_DO_PLAYER_1=false;
  }
  
  }else{
  
  BEFORE_LIST_ITEM = 0;
  BEFORE_LIST = 0;
  
  }
  //v1.removeChild(v1.children[0]);
  
 // v.children[0].style.opacity="10%";
  }
  
  function COME_PECA(B_L_I,A_L_I, B_L,A_L,MAIS_OU_MENOS){
  //alert("Comer");
  var VIEW_ITEM_1 = document.getElementById("ITEM_"+B_L_I+"_LISTA_"+B_L);
  
  var ITEM = VIEW_ITEM_1.children[0];
  
  var VIEW_ITEM_2 = document.getElementById("ITEM_"+A_L_I+"_LISTA_"+A_L);
 
  
  var ALVO_A_L_I;
  var ALVO_A_L;
  
  if(MAIS_OU_MENOS=="MAIS"){
  ALVO_A_L_I = A_L_I-1;
  ALVO_A_L = A_L-1;
  }
  if(MAIS_OU_MENOS=="MENOS"){
  ALVO_A_L_I = A_L_I-1;
  ALVO_A_L = A_L+1;
  }
  
  if(MAIS_OU_MENOS=="PLAYER_2_MAIS"){
 // alert("_");
  ALVO_A_L_I = A_L_I+1;
  ALVO_A_L = A_L-1;
  }
  
  if(MAIS_OU_MENOS=="PLAYER_2_MENOS"){
  //alert("__M");
  ALVO_A_L_I = A_L_I+1;
  ALVO_A_L = A_L+1;
  }
  
  var VIEW_ALVO_ITEM = document.getElementById("ITEM_"+ALVO_A_L_I+"_LISTA_"+ALVO_A_L);
 // VIEW_ALVO_ITEM.style.backgroundColor="blue";
  var ALVO_CLASS_NAME = VIEW_ALVO_ITEM.children[0].getAttribute("class");
  
  var ATACANTE_CLASS_NAME = VIEW_ITEM_1.children[0].getAttribute("class");
  
  //alert("A:"+ALVO_CLASS_NAME+","+"AT:"+ATACANTE_CLASS_NAME);
  
  if(ATACANTE_CLASS_NAME==ALVO_CLASS_NAME){
  BEFORE_LIST_ITEM = 0;
  BEFORE_LIST = 0;
  alert("VOCE NAO PODE COMER SUA PRIMA");
  return;
  }
  
  VIEW_ALVO_ITEM.removeChild(VIEW_ALVO_ITEM.children[0]);
  
  
  if(VIEW_ITEM_2.children.length==0){
  
  VIEW_ITEM_1.removeChild(ITEM);
  
  VIEW_ITEM_2.appendChild(ITEM);
  
  if(CLICKED==true){
  GetServer(B_L_I, B_L, A_L_I, A_L, true);
  }else{
  GetServer(B_L_I, B_L, A_L_I, A_L, false);
  }
  /*
  if(CLICKED==true){
  GetServer(B_L_I, B_L, A_L_I, A_L, true);
  CLICKED=false;
  alert("Capturado por min");
  }else{
  GetServer(B_L_I, B_L, A_L_I, A_L, false);
  alert("Não capturado por min");
  }*/
  
  
  if(VEZ_DO_PLAYER_1==false){
  VEZ_DO_PLAYER_1=true;
  }else{
  VEZ_DO_PLAYER_1=false;
  }
  
  }else{
  
  BEFORE_LIST_ITEM = 0;
  BEFORE_LIST = 0;
  
  }
  
  }
  
 // }
  
  </script>
	  
  
  <script>
	var GAME;
	var NAME = "";
	
	setTimeout(function(){
	Parse.initialize("siJjoY7DeG13Nci47JQuJVHnA7dyUj2yome76smt", "7wdSn3r11NFTUqV8MM2vbMHQBFC1Blwo8X9UpME7");
	Parse.serverURL = "https://parseapi.back4app.com/";
	
	GetServer(0,0,0,0, false);
	
	},2000);
	
	function GetServer(Before_Item_Position, Before_List_Position, After_Item_Position, After_List_Position, UpdatePlayer){
	
	/*if(Tipe_Create==false){
	var v = ObterVezDoPlayer();
	if(v!=NAME){
	alert(v);
	return;
	}
	}*/
	
	server = new Parse.Query("Game");
	
	server.equalTo("SERVER","SERVER_1");
	
	server.first().then(function(SERVER){
	
	if(SERVER){

	//alert("TEM");
	
	UPDATE(SERVER,Before_Item_Position, Before_List_Position, After_Item_Position, After_List_Position, UpdatePlayer);
	
	}else{
	
	alert("NÃO TEM");
	
	}
	
	});
	
	}
	
	
	
	function UPDATE(Game,Before_Item_Position, Before_List_Position, After_Item_Position, After_List_Position, UpdatePlayer){
	GAME=Game;
	
	var player_count = Game.get("player_count");
	
	if(player_count!==2){
	
	Game.set("player_count",player_count+1);
	
	var PLAYER = player_count+1;
	
	//
	if(PLAYER==1){
	NAME="GABRIEL";
	TABULEIRO_DE_DAMA.style.transform = "rotate(180deg)";
	isPlayerOne=true;
	Game.set("vez_do_player",NAME);
	}
	if(PLAYER==2){
	NAME="LARISSA";
	TABULEIRO_DE_DAMA.style.transform = "rotate(0deg)";
	RefreshGame();
	}
	//
	
	Game.set("player_"+PLAYER,NAME);
	
	Game.save();
	
	}else{
	
	//Game.set("player_count",0);
	
	//Game.save();
	
	//if(Before_Item_Position>0){
	
	if(UpdatePlayer==true){
	//alert("Update");
	if(isPlayerOne==true){
	//alert(isPlayerOne);
	if(ObterVezDoPlayer()==NAME){
	Game.set("vez_do_player",Game.get("player_2"));
	//Game.save();
	}
	}else{
	//alert(isPlayerOne);
	if(ObterVezDoPlayer()==NAME){
	Game.set("vez_do_player",Game.get("player_1"));
	//Game.save();
	}
	}
	}
	
	Game.set("before_item_position",Before_Item_Position);
	
	//}
	
	//if(After_Item_Position>0){
	
	Game.set("after_item_position",After_Item_Position);
	
	//}
	
	//if(Before_List_Position>0){
	
	Game.set("before_list_position",Before_List_Position);
	
	//}
	
	//if(After_List_Position>0){
	
	Game.set("after_list_position",After_List_Position);
	
	//}
	
	Game.save();
	
	BEFORE_LIST_ITEM = 0;
	BEFORE_LIST = 0;
 
	AFTER_LIST_ITEM = 0;
	AFTER_LIST = 0;
  
	CLICKED=false;
  
    RefreshGame();
	//UpdateDama();
	
	}
	
	
	}
	
	
	
	function UpdateVezDoPlayer(){
	
	server = new Parse.Query("Game");
	
	server.equalTo("SERVER","SERVER_1");
	
	server.first().then(function(SERVER){
	
	if(SERVER){
	
	GAME=SERVER;

	}
	
	});
	
	}
	
	
	function ObterVezDoPlayer(){
	
	var vez_do_player = GAME.get("vez_do_player");
	
	return vez_do_player;
	
	}
	
	/*
	function UpdateDama(){
	
	var b_i_p = GAME.get("before_item_position");
	var b_l_p = GAME.get("before_list_position");
	var a_i_p = GAME.get("after_item_position");
	var a_l_p = GAME.get("after_list_position");
	
	
	if(isPlayerOne){
	
	if(GAME.get("vez_do_player")!=NAME){
	
	alert("Não é minha vez");
	
	VERIFY_ITEM_PLAYER_2(b_i_p,a_i_p , b_l_p,a_l_p);
	
	}
	
	}else{
	
	if(GAME.get("vez_do_player")!=NAME){
	
	alert("Não é minha vez");
	
	}
	
	}
	
	UpdateVezDoPlayer();
	setTimeout(function(){
	UpdateDama();
	},10000);
	
	}*/
	
	//return "";
	
	//CreateGame();

	/*
   function CreateGame(){

   var Game = Parse.Object.extend("Game");
   
   var game = new Game();
   
   game.set("player_count",1);

   game.set("player_1","Gabriel");

   game.set("player_2","Larissa");

   game.save().then(function(GAME){
   
   alert("Sucesso");
   
   }).catch(function(ERRO){
   
   alert("Error: "+ERRO);
   
   });

   
   }*/
	
  // },2000);
	
	
	</script>

	
  
</html>		
